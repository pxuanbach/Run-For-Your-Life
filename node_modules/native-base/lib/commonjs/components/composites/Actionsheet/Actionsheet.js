var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _Modal=require("../../composites/Modal");var _hooks=require("../../../hooks");var _reactNative=require("react-native");var _this=this,_jsxFileName="/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Actionsheet/Actionsheet.tsx";var Actionsheet=function Actionsheet(_ref,ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,["children"]);var _usePropsResolution=(0,_hooks.usePropsResolution)('Actionsheet',props),isOpen=_usePropsResolution.isOpen,disableOverlay=_usePropsResolution.disableOverlay,onClose=_usePropsResolution.onClose,newProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["isOpen","disableOverlay","onClose"]);var pan=_react.default.useRef(new _reactNative.Animated.ValueXY()).current;var sheetHeight=_react.default.useRef(0);_react.default.useEffect(function(){if(!isOpen){setTimeout(function(){pan.setValue({x:0,y:0});},250);}},[isOpen,pan]);var panResponder=_react.default.useRef(_reactNative.PanResponder.create({onMoveShouldSetPanResponder:function onMoveShouldSetPanResponder(_evt,gestureState){return gestureState.dx!==0||gestureState.dy!==0;},onPanResponderMove:function onPanResponderMove(e,gestureState){if(gestureState.dy>0){_reactNative.Animated.event([null,{dy:pan.y}],{useNativeDriver:false})(e,gestureState);}},onPanResponderRelease:function onPanResponderRelease(_e,gestureState){if(sheetHeight.current/4-gestureState.dy<0){_reactNative.Animated.timing(pan,{toValue:{x:0,y:sheetHeight.current},duration:150,useNativeDriver:true}).start(function(){onClose();});}else{_reactNative.Animated.spring(pan,{toValue:{x:0,y:0},overshootClamping:true,useNativeDriver:true}).start();}}})).current;return _react.default.createElement(_Modal.Modal,(0,_extends2.default)({isOpen:isOpen,onClose:onClose,justifyContent:"flex-end",animationPreset:"slide"},newProps,{overlayVisible:disableOverlay?false:true,closeOnOverlayClick:disableOverlay?false:true,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:5}}),_react.default.createElement(_reactNative.Animated.View,(0,_extends2.default)({style:{transform:[{translateY:pan.y}],width:'100%'},onLayout:function onLayout(event){var height=event.nativeEvent.layout.height;sheetHeight.current=height;}},panResponder.panHandlers,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:7}}),children));};var _default=(0,_react.memo)((0,_react.forwardRef)(Actionsheet));exports.default=_default;
//# sourceMappingURL=Actionsheet.js.map