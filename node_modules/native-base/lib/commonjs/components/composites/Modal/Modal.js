var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _react=_interopRequireWildcard(require("react"));var _overlays=require("@react-native-aria/overlays");var _reactNative=require("react-native");var _Backdrop=_interopRequireDefault(require("../Backdrop"));var _Transitions=require("../Transitions");var _focus=require("@react-native-aria/focus");var _hooks=require("../../../hooks");var _Context=require("./Context");var _Box=_interopRequireDefault(require("../../primitives/Box"));var _Transitions2=require("../../composites/Transitions");var _factory=require("../../../factory");var _this=this,_jsxFileName="/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Modal/Modal.tsx";var StyledKeyboardView=(0,_factory.Factory)(_reactNative.KeyboardAvoidingView);var Modal=function Modal(_ref,ref){var children=_ref.children,isOpen=_ref.isOpen,onClose=_ref.onClose,defaultIsOpen=_ref.defaultIsOpen,initialFocusRef=_ref.initialFocusRef,finalFocusRef=_ref.finalFocusRef,avoidKeyboard=_ref.avoidKeyboard,_ref$closeOnOverlayCl=_ref.closeOnOverlayClick,closeOnOverlayClick=_ref$closeOnOverlayCl===void 0?true:_ref$closeOnOverlayCl,_ref$isKeyboardDismis=_ref.isKeyboardDismissable,isKeyboardDismissable=_ref$isKeyboardDismis===void 0?true:_ref$isKeyboardDismis,_ref$overlayVisible=_ref.overlayVisible,overlayVisible=_ref$overlayVisible===void 0?true:_ref$overlayVisible,_ref$animationPreset=_ref.animationPreset,animationPreset=_ref$animationPreset===void 0?'fade':_ref$animationPreset,rest=(0,_objectWithoutProperties2.default)(_ref,["children","isOpen","onClose","defaultIsOpen","initialFocusRef","finalFocusRef","avoidKeyboard","closeOnOverlayClick","isKeyboardDismissable","overlayVisible","animationPreset"]);var _usePropsResolution=(0,_hooks.usePropsResolution)('Modal',rest),contentSize=_usePropsResolution.contentSize,restThemeProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,["contentSize"]);var _useControllableState=(0,_hooks.useControllableState)({value:isOpen,defaultValue:defaultIsOpen,onChange:function onChange(val){if(!val)onClose&&onClose();}}),_useControllableState2=(0,_slicedToArray2.default)(_useControllableState,2),visible=_useControllableState2[0],setVisible=_useControllableState2[1];(0,_hooks.useKeyboardDismissable)({enabled:isKeyboardDismissable&&visible,callback:function callback(){return setVisible(false);}});var child=avoidKeyboard?_react.default.createElement(StyledKeyboardView,(0,_extends2.default)({behavior:_reactNative.Platform.select({ios:'padding'}),pointerEvents:"box-none"},restThemeProps,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:53,columnNumber:5}}),children):_react.default.createElement(_Box.default,(0,_extends2.default)({},restThemeProps,{ref:ref,pointerEvents:"box-none",__self:_this,__source:{fileName:_jsxFileName,lineNumber:63,columnNumber:5}}),children);return _react.default.createElement(_overlays.OverlayContainer,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:69,columnNumber:5}},_react.default.createElement(_Context.ModalContext.Provider,{value:{handleClose:function handleClose(){return setVisible(false);},contentSize:contentSize,initialFocusRef:initialFocusRef,finalFocusRef:finalFocusRef},__self:_this,__source:{fileName:_jsxFileName,lineNumber:70,columnNumber:7}},_react.default.createElement(_Transitions2.Fade,{exitDuration:150,entryDuration:200,in:visible,style:_reactNative.StyleSheet.absoluteFill,__self:_this,__source:{fileName:_jsxFileName,lineNumber:78,columnNumber:9}},overlayVisible&&_react.default.createElement(_Backdrop.default,{onPress:function onPress(){closeOnOverlayClick&&setVisible(false);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:13}})),animationPreset==='slide'?_react.default.createElement(_Transitions.Slide,{in:visible,duration:200,__self:_this,__source:{fileName:_jsxFileName,lineNumber:93,columnNumber:11}},_react.default.createElement(_focus.FocusScope,{contain:visible,autoFocus:visible&&!initialFocusRef,restoreFocus:visible&&!finalFocusRef,__self:_this,__source:{fileName:_jsxFileName,lineNumber:94,columnNumber:13}},child)):_react.default.createElement(_Transitions2.Fade,{exitDuration:100,entryDuration:200,in:visible,style:_reactNative.StyleSheet.absoluteFill,__self:_this,__source:{fileName:_jsxFileName,lineNumber:103,columnNumber:11}},_react.default.createElement(_focus.FocusScope,{contain:visible,autoFocus:visible&&!initialFocusRef,restoreFocus:visible&&!finalFocusRef,__self:_this,__source:{fileName:_jsxFileName,lineNumber:109,columnNumber:13}},child))));};var _default=(0,_react.memo)((0,_react.forwardRef)(Modal));exports.default=_default;
//# sourceMappingURL=Modal.js.map